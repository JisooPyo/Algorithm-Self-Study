# Recurrence Relation

이전 챕터에서, 재귀의 기초 개념에 대해 배웠다.

재귀 함수를 구현하기 전에 이해해야 하는 중요한 두 가지가 있다. `base case`와 `recurrence relation`이다.

이 챕터에서, 우리는 base case와 recurrence relation을 정의하는 방법에 대해 디테일한 예제로 살펴볼 것이다.

<br>

* `recurrence relation`: 문제의 결과와 하위문제의 결과 사이의 관계
* `base case`: 더 이상의 재귀 호출 없이 바로 답을 계산할 수 있는 케이스.
하위문제로 문제를 나누는 방식이 top-down일 경우, 
종종 base case에서 문제가 최소 규모 즉 bottom으로 줄어든 경우가 많기 때문에
가끔, base case는 *bottom cases*라고도 불린다.

```text
위의 두 요소를 알아내려면, 재귀 함수를 구현하기 위해 `base case`에 이를때까지 `recurrence relation`에 따라 함수롤 호출하기만 하면 된다.
```

이를 설명하기 위해 고전 문제 `Pascal's Triangle`을 풀어보자.

```text
파스칼의 삼각형은 삼각형 모양으로 배열되어 있는 숫자들의 수열이다.
파스칼의 삼각형에서, 각 줄의 가장 왼쪽에 있는 숫자와 가장 오른쪽에 있는 숫자는 항상 1이다.
나머지 숫자들은 바로 전의 줄에서 해당 칸 바로 위에 있는 두 숫자의 합이다.
```

<br>

---

## Recurrence Relation

파스칼의 삼각형에서 Recurrence Relation부터 시작해보자.

먼저 파스칼의 삼각형에서 `i번째` 행과 `j번째` 열의 숫자를 반환하는 함수 f(i,j)를 정의하자.

그러면 recurrence relation을 다음 식으로 표현할 수 있다.

```text
f(i, j) = f(i - 1, j - 1) + f(i - 1, j)
```

---

<br>

## Base Case

각 행의 가장 왼쪽과 가장 오른쪽에 있는 숫자는 이 문제에서 base cases이다. 이 숫자들은 항상 1이어야 한다.

결과적으로 base case는 다음과 같이 정의할 수 있다.

```text
f(i, j) = 1 where j = 1 or j = i
```

---

<br>

## Demo

보시다시피, recurrence relation과 base case를 정의함에 따라 재귀 함수를 구현하는 것이 더 직관적이게 되었다.
특히, 이 두 요소를 수학 공식으로 표현할 때 더욱 그렇다.

여기에 f(5, 3)을 재귀적으로 계산하는데 어떻게 식을 적용할 수 있는지에 관한 예제가 있다.
즉, 파스칼의 삼각형에서 5번째 행의 3번째 수이다.

f(5, 3)에서 시작한다.
이것을 f(5, 3) = f(4, 2) + f(4, 3)으로 쪼갤 수 있다.
다음 f(4, 2)와 f(4, 3)을 재귀적으로 호출할 것이다.

* f(4, 2)의 호출에서 base case에 도달할 때까지 확장시켜보자.

```text
f(4, 2) = f(3, 1) + f(3, 2) = f(3, 1) + (f(2, 1) + f(2, 2)) = 1 + (1 + 1) = 3
```

* f(4, 3)의 호출에서도 비슷하게 쪼개보자.

```text
f(4,3) = f(3, 2) + f(3, 3) = (f(2 ,1) + f(2, 2)) + f(3, 3) = (1 + 1) + 1 = 3
```

## Next

위의 예제에서, 재귀 풀이는 몇몇 반복 계산을 일으킨다는 것을 눈치 챘을것이다.
즉, 마지막 줄의 숫자들을 얻기 위해 중간에 있는 같은 숫자들을 계산한다.
예를 들어, f(5, 3)의 결과를 얻기 위해서는 f(4, 2)와 f(4, 3)의 두 개의 호출 모두에서 f(3, 2)를 두 번 계산하게 된다.

다음 챕터에서는 이러한 `반복 계산`을 어떻게 피할 것인지에 대해 얘기할 것이다.

